<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Irc::BasicUserMessage
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Irc/BasicUserMessage.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Irc.html" title="Irc (module)">Irc</a></span></span>
     &raquo; 
    <span class="title">BasicUserMessage</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Irc::BasicUserMessage
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Irc::BasicUserMessage</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/home/apoc/projects/ruby/rbot/lib/rbot/message.rb<span class="defines">,<br />
  /home/apoc/projects/ruby/rbot/lib/rbot/core/utils/extends.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>base user message class, all user messages derive from this (a user message
is defined as having a source hostmask, a target nick/channel and a message
part)</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="BanlistMessage.html" title="Irc::BanlistMessage (class)">BanlistMessage</a></span>, <span class='object_link'><a href="InviteMessage.html" title="Irc::InviteMessage (class)">InviteMessage</a></span>, <span class='object_link'><a href="JoinMessage.html" title="Irc::JoinMessage (class)">JoinMessage</a></span>, <span class='object_link'><a href="KickMessage.html" title="Irc::KickMessage (class)">KickMessage</a></span>, <span class='object_link'><a href="ListMessage.html" title="Irc::ListMessage (class)">ListMessage</a></span>, <span class='object_link'><a href="ModeChangeMessage.html" title="Irc::ModeChangeMessage (class)">ModeChangeMessage</a></span>, <span class='object_link'><a href="MotdMessage.html" title="Irc::MotdMessage (class)">MotdMessage</a></span>, <span class='object_link'><a href="NamesMessage.html" title="Irc::NamesMessage (class)">NamesMessage</a></span>, <span class='object_link'><a href="NickMessage.html" title="Irc::NickMessage (class)">NickMessage</a></span>, <span class='object_link'><a href="NoSuchTargetMessage.html" title="Irc::NoSuchTargetMessage (class)">NoSuchTargetMessage</a></span>, <span class='object_link'><a href="QuitMessage.html" title="Irc::QuitMessage (class)">QuitMessage</a></span>, <span class='object_link'><a href="TopicMessage.html" title="Irc::TopicMessage (class)">TopicMessage</a></span>, <span class='object_link'><a href="UnknownMessage.html" title="Irc::UnknownMessage (class)">UnknownMessage</a></span>, <span class='object_link'><a href="UserMessage.html" title="Irc::UserMessage (class)">UserMessage</a></span>, <span class='object_link'><a href="WelcomeMessage.html" title="Irc::WelcomeMessage (class)">WelcomeMessage</a></span>, <span class='object_link'><a href="WhoisMessage.html" title="Irc::WhoisMessage (class)">WhoisMessage</a></span></p>
</div>




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#bot-instance_method" title="#bot (instance method)">- (Object) <strong>bot</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>associated bot.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ignored-instance_method" title="#ignored (instance method)">- (Object) <strong>ignored</strong> </a>
    

    
      (also: #ignored?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>should the message be ignored?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#in_thread-instance_method" title="#in_thread (instance method)">- (Object) <strong>in_thread</strong> </a>
    

    
      (also: #in_thread?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>set this to true if the method that delegates the message is run in a
thread.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#logmessage-instance_method" title="#logmessage (instance method)">- (Object) <strong>logmessage</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>contents of the message (for logging purposes).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#message-instance_method" title="#message (instance method)">- (Object) <strong>message</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>contents of the message (stripped of initial/final format codes).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#plainmessage-instance_method" title="#plainmessage (instance method)">- (Object) <strong>plainmessage</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>contents of the message (stripped of all formatting).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#replied-instance_method" title="#replied (instance method)">- (Object) <strong>replied</strong> </a>
    

    
      (also: #replied?)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>has the message been replied to/handled by a plugin?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#server-instance_method" title="#server (instance method)">- (Object) <strong>server</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>associated server.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#source-instance_method" title="#source (instance method)">- (Object) <strong>source</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>User that originated the message.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#target-instance_method" title="#target (instance method)">- (Object) <strong>target</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>User/Channel message was sent to.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#time-instance_method" title="#time (instance method)">- (Object) <strong>time</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>when the message was received.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_formatting-class_method" title="strip_formatting (class method)">+ (Object) <strong>strip_formatting</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_initial_formatting-class_method" title="strip_initial_formatting (class method)">+ (Object) <strong>strip_initial_formatting</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stripcolour-class_method" title="stripcolour (class method)">+ (Object) <strong>stripcolour</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>strip mIRC colour escapes from a string.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#address%3F-instance_method" title="#address? (instance method)">- (Boolean) <strong>address?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>returns true if the message was addressed to the bot.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#botuser-instance_method" title="#botuser (instance method)">- (Object) <strong>botuser</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access the botuser corresponding to the source, if any.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#identified%3F-instance_method" title="#identified? (instance method)">- (Boolean) <strong>identified?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Was the message from an identified user?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (BasicUserMessage) <strong>initialize</strong>(bot, server, source, target, message) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><dl class="rdoc-list note-list"><dt>instantiate a new Message bot
<dd><dl class="rdoc-list note-list"><dt>associated bot class server
<dd><dl class="rdoc-list note-list"><dt>Server where the message took place source
<dd><dl class="rdoc-list note-list"><dt>User that sent the message target
<dd><dl class="rdoc-list note-list"><dt>User/Channel is destined for message
<dd>
<p>actual message.</p>
</dd></dl>
</dd></dl>
</dd></dl>
</dd></dl>
</dd></dl>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong>(fields = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_channel_list-instance_method" title="#parse_channel_list (instance method)">- (Object) <strong>parse_channel_list</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>We extend the BasicUserMessage class with a method that parses a string
which is a channel list as matched by IN_CHAN(_LIST) and co.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prefixed%3F-instance_method" title="#prefixed? (instance method)">- (Boolean) <strong>prefixed?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>returns true if the messaged was addressed to the bot via the address
prefix.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse_depth-instance_method" title="#recurse_depth (instance method)">- (Object) <strong>recurse_depth</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The recurse depth of a message, for fake messages.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse_depth%3D-instance_method" title="#recurse_depth= (instance method)">- (Object) <strong>recurse_depth=</strong>(val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the recurse depth of a message, for fake messages.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sourceaddress-instance_method" title="#sourceaddress (instance method)">- (Object) <strong>sourceaddress</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access the user@host of the source.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sourcenick-instance_method" title="#sourcenick (instance method)">- (Object) <strong>sourcenick</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access the nick of the source.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Irc::BasicUserMessage (class)">BasicUserMessage</a></span></tt>) <strong>initialize</strong>(bot, server, source, target, message) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>instantiate a new Message</p>
<dl class="rdoc-list note-list"><dt>bot
<dd>
<p>associated bot class</p>
</dd><dt>server
<dd>
<p>Server where the message took place</p>
</dd><dt>source
<dd>
<p>User that sent the message</p>
</dd><dt>target
<dd>
<p>User/Channel is destined for</p>
</dd><dt>message
<dd>
<p>actual message</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_bot'>bot</span><span class='comma'>,</span> <span class='id identifier rubyid_server'>server</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='ivar'>@msg_wants_id</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='ivar'>@msg_wants_id</span>

  <span class='ivar'>@time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
  <span class='ivar'>@bot</span> <span class='op'>=</span> <span class='id identifier rubyid_bot'>bot</span>
  <span class='ivar'>@source</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span>
  <span class='ivar'>@address</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@prefixed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@target</span> <span class='op'>=</span> <span class='id identifier rubyid_target'>target</span>
  <span class='ivar'>@message</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@replied</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@server</span> <span class='op'>=</span> <span class='id identifier rubyid_server'>server</span>
  <span class='ivar'>@ignored</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@in_thread</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='ivar'>@identified</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='ivar'>@msg_wants_id</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@server</span><span class='period'>.</span><span class='id identifier rubyid_capabilities'>capabilities</span><span class='lbracket'>[</span><span class='symbol'>:identify-msg</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='ivar'>@message</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^([-+])(.*)</span><span class='regexp_end'>/</span></span>
      <span class='ivar'>@identified</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='backref'>$1</span><span class='op'>==</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='ivar'>@message</span> <span class='op'>=</span> <span class='backref'>$2</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_warning'>warning</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Message does not have identification</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@logmessage</span> <span class='op'>=</span> <span class='ivar'>@message</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@plainmessage</span> <span class='op'>=</span> <span class='const'>BasicUserMessage</span><span class='period'>.</span><span class='id identifier rubyid_strip_formatting'>strip_formatting</span><span class='lparen'>(</span><span class='ivar'>@message</span><span class='rparen'>)</span>
  <span class='ivar'>@message</span> <span class='op'>=</span> <span class='const'>BasicUserMessage</span><span class='period'>.</span><span class='id identifier rubyid_strip_initial_formatting'>strip_initial_formatting</span><span class='lparen'>(</span><span class='ivar'>@message</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>==</span> <span class='ivar'>@bot</span><span class='period'>.</span><span class='id identifier rubyid_myself'>myself</span>
    <span class='ivar'>@address</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="bot-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>bot</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>associated bot</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 115</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bot'>bot</span>
  <span class='ivar'>@bot</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="ignored=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="ignored-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ignored</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='ignored?-instance_method'>ignored?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>should the message be ignored?</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ignored'>ignored</span>
  <span class='ivar'>@ignored</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="in_thread=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="in_thread-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>in_thread</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='in_thread?-instance_method'>in_thread?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>set this to true if the method that delegates the message is run in a
thread</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 147</span>

<span class='kw'>def</span> <span class='id identifier rubyid_in_thread'>in_thread</span>
  <span class='ivar'>@in_thread</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="logmessage=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="logmessage-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>logmessage</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>contents of the message (for logging purposes)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_logmessage'>logmessage</span>
  <span class='ivar'>@logmessage</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="message=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="message-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>message</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>contents of the message (stripped of initial/final format codes)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message'>message</span>
  <span class='ivar'>@message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="plainmessage=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="plainmessage-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>plainmessage</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>contents of the message (stripped of all formatting)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_plainmessage'>plainmessage</span>
  <span class='ivar'>@plainmessage</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="replied=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="replied-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>replied</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='replied?-instance_method'>replied?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>has the message been replied to/handled by a plugin?</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_replied'>replied</span>
  <span class='ivar'>@replied</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="server-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>server</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>associated server</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_server'>server</span>
  <span class='ivar'>@server</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="source-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>source</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>User that originated the message</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_source'>source</span>
  <span class='ivar'>@source</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="target-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>target</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>User/Channel message was sent to</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target'>target</span>
  <span class='ivar'>@target</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="time-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>time</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>when the message was received</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_time'>time</span>
  <span class='ivar'>@time</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="strip_formatting-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>strip_formatting</strong>(string) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 264</span>

<span class='kw'>def</span> <span class='const'>BasicUserMessage</span><span class='period'>.</span><span class='id identifier rubyid_strip_formatting'>strip_formatting</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='const'>FormattingRx</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip_initial_formatting-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>strip_initial_formatting</strong>(string) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 259</span>

<span class='kw'>def</span> <span class='const'>BasicUserMessage</span><span class='period'>.</span><span class='id identifier rubyid_strip_initial_formatting'>strip_initial_formatting</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>FormattingRx</span><span class='embexpr_end'>}</span><span class='tstring_content'>|</span><span class='embexpr_beg'>#{</span><span class='const'>FormattingRx</span><span class='embexpr_end'>}</span><span class='tstring_content'>$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stripcolour-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>stripcolour</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>strip mIRC colour escapes from a string</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254
255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 252</span>

<span class='kw'>def</span> <span class='const'>BasicUserMessage</span><span class='period'>.</span><span class='id identifier rubyid_stripcolour'>stripcolour</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_string'>string</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='const'>ColorRx</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'>#ret.tr!(&quot;\x00-\x1f&quot;, &quot;&quot;)
</span>  <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="address?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>address?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>returns true if the message was addressed to the bot. This includes any
private message to the bot, or any public message which looks like it&#39;s
addressed to the bot, e.g. “bot: foo”, “bot, foo”, a kick message when bot
was kicked etc.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_address?'>address?</span>
  <span class='kw'>return</span> <span class='ivar'>@address</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="botuser-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>botuser</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access the botuser corresponding to the source, if any</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_botuser'>botuser</span>
  <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_botuser'>botuser</span> <span class='kw'>rescue</span> <span class='ivar'>@bot</span><span class='period'>.</span><span class='id identifier rubyid_auth'>auth</span><span class='period'>.</span><span class='id identifier rubyid_everyone'>everyone</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="identified?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>identified?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Was the message from an identified user?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_identified?'>identified?</span>
  <span class='kw'>return</span> <span class='ivar'>@identified</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong>(fields = nil) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_fields'>fields</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___to_s__'>__to_s__</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> bot=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@bot</span><span class='period'>.</span><span class='id identifier rubyid___to_s__'>__to_s__</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> server=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_server'>server</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> time=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> source=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> target=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> message=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> logmessage=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_logmessage'>logmessage</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> plainmessage=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_plainmessage'>plainmessage</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_fields'>fields</span> <span class='kw'>if</span> <span class='id identifier rubyid_fields'>fields</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> (identified)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_identified?'>identified?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_address?'>address?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> (addressed to me</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, with prefix</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_prefixed?'>prefixed?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> (replied)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_replied?'>replied?</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> (ignored)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_ignored?'>ignored?</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> (in thread)</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_in_thread?'>in_thread?</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_channel_list-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parse_channel_list</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>We extend the BasicUserMessage class with a method that parses a string
which is a channel list as matched by IN_CHAN(_LIST) and co. The method
returns an array of channel names, where &#39;private&#39; or &#39;pvt&#39;
is replaced by the Symbol :“?”, &#39;here&#39; is replaced by the channel
of the message or by :“?” (depending on whether the message target is the
bot or a Channel), and &#39;anywhere&#39; and &#39;everywhere&#39; are
replaced by Symbol :*</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/core/utils/extends.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_channel_list'>parse_channel_list</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='symbol'>:*</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='lbracket'>[</span><span class='symbol'>:anywhere</span><span class='comma'>,</span> <span class='symbol'>:everywhere</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(?:^|,?(?:\s+and)?\s+)(?:in|on\s+)?(</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='op'>::</span><span class='const'>Irc</span><span class='op'>::</span><span class='const'>GEN_CHAN</span><span class='embexpr_end'>}</span><span class='tstring_content'>|here|private|pvt)</span><span class='regexp_end'>/</span></span>
             <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_chan_ar'>chan_ar</span><span class='op'>|</span>
    <span class='id identifier rubyid_chan'>chan</span> <span class='op'>=</span> <span class='id identifier rubyid_chan_ar'>chan_ar</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_chan'>chan</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>when</span> <span class='symbol'>:private</span><span class='comma'>,</span> <span class='symbol'>:pvt</span>
      <span class='symbol'>:?</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='symbol'>:here</span>
      <span class='kw'>case</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_target'>target</span>
      <span class='kw'>when</span> <span class='const'>Channel</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>else</span>
        <span class='symbol'>:?</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_chan'>chan</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefixed?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>prefixed?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>returns true if the messaged was addressed to the bot via the address
prefix. This can be used to tell appart “!do this” from “botname, do this”</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 247</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefixed?'>prefixed?</span>
  <span class='kw'>return</span> <span class='ivar'>@prefixed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recurse_depth-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse_depth</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The recurse depth of a message, for fake messages. 0 means an original
message</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


465
466
467
468
469
470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/core/utils/extends.rb', line 465</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recurse_depth'>recurse_depth</span>
  <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='ivar'>@recurse_depth</span>
    <span class='ivar'>@recurse_depth</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>
  <span class='ivar'>@recurse_depth</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recurse_depth=-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse_depth=</strong>(val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the recurse depth of a message, for fake messages. 0 should only be
used by original messages</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


474
475
476</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/core/utils/extends.rb', line 474</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recurse_depth='>recurse_depth=</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
  <span class='ivar'>@recurse_depth</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sourceaddress-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>sourceaddress</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access the user@host of the source</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sourceaddress'>sourceaddress</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@source</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='ivar'>@source</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>rescue</span> <span class='ivar'>@source</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sourcenick-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>sourcenick</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access the nick of the source</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/apoc/projects/ruby/rbot/lib/rbot/message.rb', line 215</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sourcenick'>sourcenick</span>
  <span class='ivar'>@source</span><span class='period'>.</span><span class='id identifier rubyid_nick'>nick</span> <span class='kw'>rescue</span> <span class='ivar'>@source</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Mon Mar  9 04:49:05 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.2.0).
</div>

  </body>
</html>